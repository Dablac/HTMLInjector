'use strict';function injectorElement(a,b,c){this.logging=c,this.noID=a,this.setID=b,this._setParent=function(a){this._parent=a;},this._setIsBase=function(a){this._isBase=a;},this._setHasClones=function(a){this._hasClones=a;},this._setCloneIndex=function(a){this._cloneIndex=a;},this.split=function(a){this.logging&&console.log(this),this._isNonElementContent=!a.includes('<'),this._unaltered=a,this._tagName=/([a-zA-Z]+)/.exec(a)[0],this._openingTag='<'+this._tagName+' ',this._attributes=a.replace('<'+this._tagName,'').split('>')[0];var b=a.replace(/\[id=/gi,'');if(b.includes('id=')){this._ID=b.replace('<'+this._tagName,'').split('>')[0].split('id=')[1].slice(1).split(' ')[0].slice(0,-1);var c=this._attributes.split(this._ID);this._attributes=c[0].slice(0,-4)+c[1].slice(1),this._hasClones&&(this._ID+='_'+this._cloneIndex),this._ID=this.setID(this._ID);}else this._ID=this.noID();this._closingTag='</'+this._tagName+'>',this._children=[],this._alreadyStringed=!1;var d=a.split(this._closingTag)[0].split('>')[1];d&&this._children.push(d);},this.assembleString=function(c){if(this._alreadyStringed)return'';var a='';if(this._isNonElementContent)a=this._unaltered;else{var b=[this._openingTag,"id='"+this._ID+"'",this._attributes+'>',[],this._closingTag];c(this._children,b[3]),a=b.join('');}return this._alreadyStringed=!0,a;};}function setChildren(a,c,b){Array.prototype.slice.call(b).forEach(function(b){b._parent===a._ID&&a._children.push(b);});}function cGen(a,b,c){return regeneratorRuntime.wrap(function d(d){for(;1;)switch(d.prev=d.next){case 0:if(b!==lastCycleIndex&&(cGenIndex=0,lastCycleIndex=b),!(cGenIndex<a.length)){d.next=11;break;}if(a[cGenIndex].constructor!==Array){d.next=7;break;}return d.next=5,(b+a[cGenIndex][1])*a[cGenIndex++][0];case 5:d.next=9;break;case 7:return d.next=9,(b+1)*a[cGenIndex++];case 9:d.next=12;break;case 11:c&&console.log('Iterated element multiplying coefficient array (%o) length (%o) does not contain as many values as the index of the replacement being requested (%o).',a,a.length,cGenIndex);case 12:case'end':return d.stop();}},_marked[0],this);}function sGen(a,b,c){return regeneratorRuntime.wrap(function d(d){for(;1;)switch(d.prev=d.next){case 0:if(b!==lastCycleIndex&&(sGenIndex=0,lastCycleIndex=b),!(sGenIndex<a.length)){d.next=6;break;}return d.next=4,a[sGenIndex++];case 4:d.next=7;break;case 6:c&&console.log('Iterated element string array (%o) length (%o) does not contain as many values as the index of the replacement being requested (%o).',a,a.length,sGenIndex);case 7:case'end':return d.stop();}},_marked[1],this);}function Injector(a,b,c){this.UID=a+'_',this.defaultID=b||'IdNotSet',this.defaultIDIndex=0,this.logging=c,this.setID=function(a){return this.UID+a;},this.noID=function(){return this.setID(this.defaultID+'_'+this.defaultIDIndex++);},this.default=function(a){return this.setID(this.defaultID+'_'+a);};}function assembleStringCallback(b,c){for(var a=0;a<b.length;a++)c[a]=b[a]instanceof injectorElement?b[a].assembleString(assembleStringCallback):c[a]=b[a];return c;}var _marked=[cGen,sGen].map(regeneratorRuntime.mark);var lastCycleIndex=0,cGenIndex=0,sGenIndex=0;Injector.prototype={_setAllChildren:function a(a){a.forEach(setChildren);},addBase:function a(d,e,f,g){var b=e||1,c=!!(1<b);for(var a=0;a<b;a++)this._add(!0,'existing HTML',c,a,d.replace(/MULT|STRING/g,function(d,b,c){return b?cGen(f,a,this.logging).next().value:c?sGen(g,a,this.logging).next().value:void 0;}));},addChild:function a(d,e,f,g,h){var b=f||1,c=!!(1<b);for(var a=0;a<b;a++)this._add(!1,d,c,a,e.replace(/MULT|STRING/g,function(b){return'MULT'===b?cGen(g,a).next().value:'STRING'===b?sGen(h,a).next().value:void 0;}));},_add:function a(c,b,d,e,f){var a=new injectorElement(this.noID.bind(this),this.setID.bind(this));b.includes(this.UID)?a._setParent(b):a._setParent(this.setID(b)),a._setIsBase(c),a._setHasClones(d),a._setCloneIndex(e),a.split(f),this[a._ID]=a;},_elementArray:function a(){var a=[];for(var b in this)this[b]instanceof injectorElement&&a.push(this[b]);return a;},_returnBases:function a(c){var a=[];for(var b=0;b<c.length;b++)a.push(document.getElementById(c[b]));return this.logging&&console.log('_returnBases(%o): %o',c,a),a;},inject:function a(i,j){var c=j||'body',h=['beforeEnd','afterEnd','beforeBegin','afterBegin'].includes(i)?i:'beforeEnd',a=this._elementArray();this.logging&&console.log('injectorElements=%o',a),this._setAllChildren(a);var e=[],f='';for(var d in a){var b='';a[d]._isBase&&(e.push(a[d]._ID),b=a[d].assembleString(assembleStringCallback),b&&(f+=b));}var g=f.replace(/(\,<)|(}\,)/gi,function(c,a,b){return a?'\n\n <':b?'} \n\n':void 0;});return(c.constructor===String?document[c]:c).insertAdjacentHTML(h,g),this._returnBases(e);}};
